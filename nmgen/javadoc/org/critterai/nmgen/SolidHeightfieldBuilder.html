<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_16) on Fri Feb 12 12:41:01 MST 2010 -->
<TITLE>
SolidHeightfieldBuilder
</TITLE>

<META NAME="date" CONTENT="2010-02-12">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SolidHeightfieldBuilder";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/critterai/nmgen/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SolidHeightfieldBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/critterai/nmgen/SolidHeightfield.html" title="class in org.critterai.nmgen"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/critterai/nmgen/SpanFlags.html" title="class in org.critterai.nmgen"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/critterai/nmgen/SolidHeightfieldBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SolidHeightfieldBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.critterai.nmgen</FONT>
<BR>
Class SolidHeightfieldBuilder</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.critterai.nmgen.SolidHeightfieldBuilder</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>SolidHeightfieldBuilder</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
A class used to build solid heightfields from source geometry using a given configuration.
 The solid heightfield represents the space obstructed by the source geometry.
 <p>Each triangle in the source geometry is voxelized using conservative voxelization and added to the field.
 Conservative voxelization is an algorithm that ensures that polygon surfaces are completely encompassed by the 
 the generated voxels.</p>
 <p>At the end of the process, spans with the <A HREF="../../../org/critterai/nmgen/SpanFlags.html#WALKABLE"><CODE>SpanFlags.WALKABLE</CODE></A> flag have survived the following
 tests:</p>
 <ul>
 <li>The top of the span is at least a minimum distance from the bottom of the span above it.  (The tallest agent
 can stand on the span without colliding with an obstruction above.)</li>
 <li>The top voxel of the span represents geometry with a slope below a maximum allowed value.
 (The slope is low enough to be traversable by agents.)</li>
 <li>If ledge culling is enabled, the top of the span does not represent a ledge.  
 (Agents can legally "step down" from the span to any of its neighbors.)</li>
 </ul>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><a href="http://www.critterai.org/nmgen_hfintro" target="_parent">Introduction to Heightfields.</a>, 
<a href="http://www.ecn.purdue.edu/purpl/level2/papers/consvox.pdf" target="_blank">Conservative Voxelization (PDF)</a></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/critterai/nmgen/SolidHeightfieldBuilder.html#SolidHeightfieldBuilder(float, float, int, int, float, boolean)">SolidHeightfieldBuilder</A></B>(float&nbsp;cellSize,
                        float&nbsp;cellHeight,
                        int&nbsp;minTraversableHeight,
                        int&nbsp;maxTraversableStep,
                        float&nbsp;maxTraversableSlope,
                        boolean&nbsp;clipLedges)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/critterai/nmgen/SolidHeightfield.html" title="class in org.critterai.nmgen">SolidHeightfield</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/critterai/nmgen/SolidHeightfieldBuilder.html#build(float[], int[])">build</A></B>(float[]&nbsp;vertices,
      int[]&nbsp;indices)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates a solid height field from the provided source geometry.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SolidHeightfieldBuilder(float, float, int, int, float, boolean)"><!-- --></A><H3>
SolidHeightfieldBuilder</H3>
<PRE>
public <B>SolidHeightfieldBuilder</B>(float&nbsp;cellSize,
                               float&nbsp;cellHeight,
                               int&nbsp;minTraversableHeight,
                               int&nbsp;maxTraversableStep,
                               float&nbsp;maxTraversableSlope,
                               boolean&nbsp;clipLedges)</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>cellSize</CODE> - The size of the cells.  (The grid that forms the base of the field.)
 <p>This value represents the x and z-axis sampling resolution to use when generating
 voxels.</p><DD><CODE>cellHeight</CODE> - The height increment of the field.
 <p>This value represents the y-axis sampling resolution to use when generating
 voxels.</p><DD><CODE>minTraversableHeight</CODE> - Represents the minimum floor to ceiling height that will still allow a
 floor area to be considered walkable.
 <p>Permits detection of overhangs in the geometry which make the geometry below become unwalkable.</p>
 <p>Constraints:  > 0</p><DD><CODE>maxTraversableStep</CODE> - Represents the maximum ledge height that is considered to
 still be walkable.
 <p>Prevents minor deviations in height from improperly showing as obstructions.
 Permits detection of stair-like structures, curbs, etc.</p> 
 <p>Constraints:  >= 0</p><DD><CODE>maxTraversableSlope</CODE> - The maximum slope that is considered walkable. (Degrees)
 <p>Spans that are above this slope have the <A HREF="../../../org/critterai/nmgen/SpanFlags.html#WALKABLE"><CODE>SpanFlags.WALKABLE</CODE></A> flag removed.
 <p>Constraints:  > 0</p><DD><CODE>clipLedges</CODE> - Indicates whether ledges should be marked as unwalkable.
 I.e. The <A HREF="../../../org/critterai/nmgen/SpanFlags.html#WALKABLE"><CODE>SpanFlags.WALKABLE</CODE></A> flag will be removed.
 <p>A ledge is a normally walkable voxel that has one or more accessible neighbors with a 
 an un-steppable drop from voxel top to voxel top.</p>
 <p>E.g. If an agent using the navmesh were to travel down from the ledge voxel to its neighbor voxel, it would 
 result in the maximum traversable step distance being violated.  The agent cannot legally "step down"
 from a ledge to its neighbor.</p></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="build(float[], int[])"><!-- --></A><H3>
build</H3>
<PRE>
public <A HREF="../../../org/critterai/nmgen/SolidHeightfield.html" title="class in org.critterai.nmgen">SolidHeightfield</A> <B>build</B>(float[]&nbsp;vertices,
                              int[]&nbsp;indices)</PRE>
<DL>
<DD>Generates a solid height field from the provided source geometry.  The solid height field
 will represent the space obstructed by the source geometry.
 <p>The <A HREF="../../../org/critterai/nmgen/SpanFlags.html#WALKABLE"><CODE>SpanFlags.WALKABLE</CODE></A> will be applied to spans whose top surface is considered walkable. See
 the class description for details.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>vertices</CODE> - Source geometry vertices in the form (x, y, z).<DD><CODE>indices</CODE> - Source geometry indices in the form (VertA, VertB, VertC). Wrapped: Clockwise.
<DT><B>Returns:</B><DD>The generated solid height field, or null if the generation fails.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/critterai/nmgen/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SolidHeightfieldBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/critterai/nmgen/SolidHeightfield.html" title="class in org.critterai.nmgen"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/critterai/nmgen/SpanFlags.html" title="class in org.critterai.nmgen"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/critterai/nmgen/SolidHeightfieldBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SolidHeightfieldBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<div align=center><font size=-1><p>For further developer documentation see <a href=http://www.critterai.org/nmgen target=_parent>Navigation Mesh Generation</a> at <a href=http://www.critterai.org/ target=_parent>CritterAI.org</a>. Source code is available the <a href=http://code.google.com/p/critterai/ target=_parent>project source site</a>.<p>Copyright 2010 Stephen Pratt. All rights reserved. Use is subject to <a href=http://www.critterai.org/nmgen_codelicense target=_parent>license terms</a>.</p></font></div>
</BODY>
</HTML>
